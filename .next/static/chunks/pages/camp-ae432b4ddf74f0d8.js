(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536],{3155:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/camp",function(){return n(3130)}])},7907:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var l=n(6154);let r=l.Z.create({headers:{"Content-Type":"application/json"}});r.defaults.withCredentials=!0,r.interceptors.request.use(function(e){let t=localStorage.getItem("jwt");if(!t)return e.headers.Authorization=null,e;if(e.data){let{access_token:n}=JSON.parse(t);return e.headers.Authorization=n,e}let{access_token:n,refresh_token:l}=JSON.parse(t);return e.headers.Authorization=n,e}),r.interceptors.response.use(function(e){return e},async function(e){if(403===e.response.status){let t=null;try{t=localStorage.getItem("jwt");let n=e.config,{refresh_token:l}=JSON.parse(t);l||localStorage.removeItem("jwt");let i=await r.post("/api/signin/refresh",l,{headers:{"Content-Type":"application/json"}});if(i){let{access_token:e}=i.data;return n.headers.Authorization=e,localStorage.setItem("jwt",JSON.stringify({access_token:e})),await r.request(n)}}catch(e){console.log("실행 리플레쉬 실패함요")}}return Promise.reject(e)})},4405:function(e,t,n){"use strict";var l=n(7297),r=n(5944),i=n(6829);function a(){let e=(0,l.Z)(["\n  width: 100%;\n  height: 30px;\n  background-color: #f2f2f2;\n  position: relative;\n  overflow: hidden;\n  border-radius: 4px;\n\n  @keyframes skeleton-gradient {\n    0% {\n      background-color: rgba(165, 165, 165, 0.1);\n    }\n    50% {\n      background-color: rgba(165, 165, 165, 0.3);\n    }\n    100% {\n      background-color: rgba(165, 165, 165, 0.1);\n    }\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0px;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    animation: skeleton-gradient 1.5s infinite ease-in-out;\n  }\n"]);return a=function(){return e},e}function o(){let e=(0,l.Z)([""]);return o=function(){return e},e}function c(){let e=(0,l.Z)([""]);return c=function(){return e},e}function d(){let e=(0,l.Z)(["\n  margin: 10px 0;\n"]);return d=function(){return e},e}function Z(){let e=(0,l.Z)(["\n  height: 130px;\n"]);return Z=function(){return e},e}function s(){let e=(0,l.Z)(["\n  display: flex;\n  gap: 12px;\n"]);return s=function(){return e},e}function u(){let e=(0,l.Z)(["\n  width: 35px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #f2f2f2;\n  position: relative;\n  top: 10px;\n  overflow: hidden;\n"]);return u=function(){return e},e}let h=()=>(0,r.tZ)(f,{children:(0,r.BX)(m,{children:[(0,r.tZ)(g,{}),(0,r.BX)(I,{children:[(0,r.tZ)(w,{}),(0,r.tZ)(g,{})]}),(0,r.tZ)(b,{})]},1)}),p=i.Z.div(a()),f=i.Z.ul(o()),m=i.Z.li(c()),g=(0,i.Z)(p)(d()),b=(0,i.Z)(p)(Z()),I=i.Z.div(s()),w=(0,i.Z)(p)(u());t.Z=h},3130:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var l=n(5944),r=n(92),i=n(1230),a=n(1577),o=n(7907),c=n(4405),d=n(7294),Z=n(2186),s=n(6981),u=n(9899),h=n(442),p=n(7790),f=n(9014),m=n(5746),g=n(381),b=n.n(g);let{Option:I}=Z.Z,{TabPane:w}=s.Z,{Column:y}=r.Z,{TextArea:S}=u.Z;function v(e){let{modalData:t,setModalData:n}=e,[r]=h.Z.useForm(),[a,c]=(0,d.useState)({...t.data}),s=localStorage.getItem("jwt"),{access_token:g,refresh_token:w}=JSON.parse(s);console.log(g),console.log(a,"상담1");let y=async()=>{let e=[{campAuthId:"",campAuthStatus:r.getFieldValue("campAuthStatus"),campId:r.getFieldValue("campId"),campName:r.getFieldValue("campName")}];try{await o.r.put("/api/camp",{...e},{headers:{Authorization:g,"Content-Type":"*"}}),n({visible:!1,data:{}})}catch(e){p.ZP.error(e)}};return(0,l.tZ)(f.Z,{title:"상세정보",open:!0,closable:!1,maskClosable:!1,width:"80%",style:{top:25,bottom:25},onCancel:()=>{n({visible:!1,data:{}})},onOk:()=>y(),children:(0,l.BX)(h.Z,{form:r,layout:"vertical",labelAlign:"left",style:{textAlign:"left"},initialValues:a,children:[(0,l.BX)(i.Z,{children:[(0,l.tZ)(m.Z,{span:11,children:(0,l.tZ)(h.Z.Item,{label:"캠핑장 이름",required:!0,tooltip:"캠핑장 이름 입니다",name:["campName"],children:(0,l.tZ)(u.Z,{placeholder:"캠핑장 이름을 입력해주세요",readOnly:!0})})}),(0,l.tZ)(m.Z,{span:11,offset:2,children:(0,l.tZ)(h.Z.Item,{label:"생성 일자",required:!0,tooltip:"생성 날짜 입니다",children:(0,l.tZ)(u.Z,{placeholder:"생성일자 입력해주세요",readOnly:!0,value:b()(a.createdAt).format("YYYY-MM-DD")})})})]}),(0,l.BX)(i.Z,{children:[(0,l.tZ)(m.Z,{span:11,children:(0,l.tZ)(h.Z.Item,{label:"오픈 시즌",required:!0,tooltip:"openSeason 입니다",name:["openSeason"],children:(0,l.tZ)(u.Z,{placeholder:"openSeason"})})}),(0,l.tZ)(m.Z,{span:11,offset:2,children:(0,l.tZ)(h.Z.Item,{label:"이미지",required:!0,tooltip:"이미지 입니다",name:["firstImage"],children:(0,l.tZ)(u.Z,{placeholder:"firstImage"})})})]}),(0,l.tZ)(i.Z,{children:(0,l.tZ)(m.Z,{span:11,children:(0,l.tZ)(h.Z.Item,{label:"view 상태",required:!0,tooltip:"상태 입니다",name:["manageStatus"],children:(0,l.BX)(Z.Z,{children:[(0,l.tZ)(I,{value:"AUTHORIZED",children:"활성화"}),(0,l.tZ)(I,{value:"UNAUTHORIZED",children:"비활성화"})]})})})}),(0,l.tZ)("div",{style:{fontSize:"17px",fontWeight:"700"},children:"지도"}),(0,l.BX)(i.Z,{children:[(0,l.tZ)(m.Z,{span:7,children:(0,l.tZ)(h.Z.Item,{label:"주소",required:!0,tooltip:"주소 입니다",name:["location","addr1"],children:(0,l.tZ)(u.Z,{placeholder:"주소"})})}),(0,l.tZ)(m.Z,{span:7,offset:1,children:(0,l.tZ)(h.Z.Item,{label:"상세주소",required:!0,tooltip:"상세주소 입니다",name:["location","addr2"],children:(0,l.tZ)(u.Z,{placeholder:"상세 주소"})})}),(0,l.tZ)(m.Z,{span:7,offset:1,children:(0,l.tZ)(h.Z.Item,{label:"지명",required:!0,tooltip:"지명 입니다",name:["location","environment"],children:(0,l.tZ)(u.Z,{placeholder:"상세 주소"})})})]}),(0,l.BX)(i.Z,{children:[(0,l.tZ)(m.Z,{span:10,offset:1,children:(0,l.tZ)(h.Z.Item,{label:"latitude",required:!0,tooltip:"latitude 입니다",name:["location","latitude"],children:(0,l.tZ)(u.Z,{placeholder:"latitude"})})}),(0,l.tZ)(m.Z,{span:10,offset:1,children:(0,l.tZ)(h.Z.Item,{label:"longitude",required:!0,tooltip:"longitude 입니다",name:["location","longitude"],children:(0,l.tZ)(u.Z,{placeholder:"longitude"})})})]}),(0,l.tZ)(i.Z,{children:(0,l.tZ)(m.Z,{span:24,children:(0,l.tZ)(h.Z.Item,{label:"내용",required:!0,tooltip:"description 입니다",name:"intro",children:(0,l.tZ)(S,{placeholder:"상담내용 입니다",style:{height:"300px"}})})})})]})})}let{Column:k}=r.Z,x=()=>{let[e,t]=(0,d.useState)([]),[n,Z]=(0,d.useState)(!1);console.log(e);let[s,u]=(0,d.useState)({visible:!1,data:{}});(0,d.useEffect)(()=>{h()},[]);let h=async()=>{try{await o.r.get("api/camp",{headers:{accept:"*/*","Content-Type":"application/json"}}).then(e=>{console.log(e,"성공"),t(e.data.content),Z(!0)})}catch(e){console.log(e,"옴?")}};return(0,l.BX)(l.HY,{children:[s.visible&&(0,l.tZ)(l.HY,{children:(0,l.tZ)(v,{modalData:s,setModalData:u})}),!n&&(0,l.tZ)(c.Z,{}),n&&(0,l.BX)(l.HY,{children:[(0,l.tZ)(i.Z,{justify:"start",style:{marginBottom:16}}),(0,l.BX)(r.Z,{style:{marginBottom:100},rowKey:e=>e.campId,dataSource:e,rowSelection:{},pagination:{hideOnSinglePage:!0},children:[(0,l.tZ)(k,{title:"생성일자",dataIndex:"createdAt",render:e=>(0,l.tZ)(l.HY,{children:b()(e).format("YYYY-MM-DD")})}),(0,l.tZ)(k,{title:"이름",dataIndex:"campName"}),(0,l.tZ)(k,{title:"오픈시즌",dataIndex:"openSeason"}),(0,l.tZ)(k,{title:"페이지 노출",dataIndex:"animalCapable"}),(0,l.tZ)(k,{title:()=>(0,l.tZ)(l.HY,{children:"상세"}),width:"7%",align:"center",render:(e,t)=>(0,l.tZ)(l.HY,{children:(0,l.tZ)(a.ZP,{size:"small",type:"ghost",onClick:()=>u({visible:!0,data:t}),children:"더보기"})})},""),(0,l.tZ)(k,{title:()=>(0,l.tZ)(l.HY,{children:"삭제"}),width:"7%",align:"center",render:(e,t)=>(0,l.tZ)(l.HY,{children:(0,l.tZ)(a.ZP,{size:"small",type:"ghost",onClick:()=>u({visible:!0,data:t}),children:"삭제"})})},"")]})]})]})};var Y=x}},function(e){e.O(0,[885,324,343,790,774,888,179],function(){return e(e.s=3155)}),_N_E=e.O()}]);