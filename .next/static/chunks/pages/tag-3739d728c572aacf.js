(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9],{1946:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tag",function(){return n(3881)}])},7907:function(e,t,n){"use strict";n.d(t,{r:function(){return l}});var r=n(6154);let l=r.Z.create({headers:{"Content-Type":"application/json"}});l.defaults.withCredentials=!0,l.interceptors.request.use(function(e){let t=localStorage.getItem("jwt");if(!t)return e.headers.Authorization=null,e;if(e.data){let{access_token:n}=JSON.parse(t);return e.headers.Authorization=n,e}let{access_token:n,refresh_token:r}=JSON.parse(t);return e.headers.Authorization=n,e}),l.interceptors.response.use(function(e){return e},async function(e){if(403===e.response.status){let t=null;try{t=localStorage.getItem("jwt");let n=e.config,{refresh_token:r}=JSON.parse(t);r||localStorage.removeItem("jwt");let a=await l.post("/api/signin/refresh",r,{headers:{"Content-Type":"application/json"}});if(a){let{access_token:e}=a.data;return n.headers.Authorization=e,localStorage.setItem("jwt",JSON.stringify({access_token:e})),await l.request(n)}}catch(e){console.log("실행 리플레쉬 실패함요")}}return Promise.reject(e)})},4405:function(e,t,n){"use strict";var r=n(7297),l=n(5944),a=n(6829);function i(){let e=(0,r.Z)(["\n  width: 100%;\n  height: 30px;\n  background-color: #f2f2f2;\n  position: relative;\n  overflow: hidden;\n  border-radius: 4px;\n\n  @keyframes skeleton-gradient {\n    0% {\n      background-color: rgba(165, 165, 165, 0.1);\n    }\n    50% {\n      background-color: rgba(165, 165, 165, 0.3);\n    }\n    100% {\n      background-color: rgba(165, 165, 165, 0.1);\n    }\n  }\n\n  &:before {\n    content: '';\n    position: absolute;\n    top: 0px;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    animation: skeleton-gradient 1.5s infinite ease-in-out;\n  }\n"]);return i=function(){return e},e}function o(){let e=(0,r.Z)([""]);return o=function(){return e},e}function c(){let e=(0,r.Z)([""]);return c=function(){return e},e}function d(){let e=(0,r.Z)(["\n  margin: 10px 0;\n"]);return d=function(){return e},e}function u(){let e=(0,r.Z)(["\n  height: 130px;\n"]);return u=function(){return e},e}function s(){let e=(0,r.Z)(["\n  display: flex;\n  gap: 12px;\n"]);return s=function(){return e},e}function Z(){let e=(0,r.Z)(["\n  width: 35px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #f2f2f2;\n  position: relative;\n  top: 10px;\n  overflow: hidden;\n"]);return Z=function(){return e},e}let h=()=>(0,l.tZ)(g,{children:(0,l.BX)(f,{children:[(0,l.tZ)(m,{}),(0,l.BX)(v,{children:[(0,l.tZ)(x,{}),(0,l.tZ)(m,{})]}),(0,l.tZ)(b,{})]},1)}),p=a.Z.div(i()),g=a.Z.ul(o()),f=a.Z.li(c()),m=(0,a.Z)(p)(d()),b=(0,a.Z)(p)(u()),v=a.Z.div(s()),x=(0,a.Z)(p)(Z());t.Z=h},3881:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var r=n(7297),l=n(5944),a=n(6829),i=n(92),o=n(1577),c=n(7907),d=n(4405),u=n(7294),s=n(2186),Z=n(6981),h=n(9899),p=n(442),g=n(9014),f=n(1230),m=n(5746),b=n(381),v=n.n(b);let{Option:x}=s.Z,{TabPane:w}=Z.Z,{Column:y}=i.Z,{TextArea:Y}=h.Z;function I(e){let{modalData:t,setModalData:n}=e,[r]=p.Z.useForm(),[a,i]=(0,u.useState)({...t.data});console.log(a,"상담1");let o=localStorage.getItem("jwt"),{access_token:d,refresh_token:Z}=JSON.parse(o),b=async()=>{let e={name:r.getFieldValue("name"),userYn:r.getFieldValue("useYn")};console.log(e,"body");try{let t="/api/admin/rectag?name=".concat(e.name,"&userYn=").concat(e.userYn);await c.r.patch(t,{name:e.name,userYn:e.userYn},{headers:{accept:"*/*",Authorization:d}}),n({visible:!1,data:{}})}catch(e){console.log(e)}};return(0,l.tZ)(g.Z,{title:"상세정보",open:!0,closable:!1,maskClosable:!1,width:"80%",style:{top:25,bottom:25},onCancel:()=>{n({visible:!1,data:{}})},onOk:()=>b(),children:(0,l.BX)(p.Z,{form:r,layout:"vertical",labelAlign:"left",style:{textAlign:"left"},initialValues:a,children:[(0,l.BX)(f.Z,{children:[(0,l.tZ)(m.Z,{span:11,children:(0,l.tZ)(p.Z.Item,{label:"recTagId",required:!0,tooltip:"recTagId",name:["recTagId"],children:(0,l.tZ)(h.Z,{placeholder:"recTagId 입력해주세요",readOnly:!0})})}),(0,l.tZ)(m.Z,{span:11,offset:2,children:(0,l.tZ)(p.Z.Item,{label:"생성 일자",required:!0,tooltip:"생성 날짜 입니다",children:(0,l.tZ)(h.Z,{placeholder:"생성일자 입력해주세요",readOnly:!0,value:v()(a.createdAt).format("YYYY-MM-DD")})})})]}),(0,l.BX)(f.Z,{children:[(0,l.tZ)(m.Z,{span:11,children:(0,l.tZ)(p.Z.Item,{label:"태그 이름",required:!0,tooltip:"태그 이름를 입력해주세요",name:["name"],children:(0,l.tZ)(h.Z,{placeholder:"태그이름을 입력해주세요"})})}),(0,l.tZ)(m.Z,{span:11,offset:2,children:(0,l.tZ)(p.Z.Item,{label:"태그 상태",required:!0,tooltip:"태그 상태 입니다",name:["useYn"],children:(0,l.BX)(s.Z,{children:[(0,l.tZ)(x,{value:!0,children:"활성화"}),(0,l.tZ)(x,{value:!1,children:"비 활성화"})]})})})]})]})})}var S=n(7790);let{Option:k}=s.Z,{TabPane:T}=Z.Z,{Column:C}=i.Z,{TextArea:N}=h.Z;function X(e){let{modalData:t,setModalData:n}=e,[r]=p.Z.useForm(),[a,i]=(0,u.useState)({recTagId:t.indexNum,name:"",useYn:!0}),o=localStorage.getItem("jwt"),{access_token:d,refresh_token:Z}=JSON.parse(o);console.log(d),console.log(a,"상담1");let b=async()=>{let e={campLogId:a.recTagId,name:r.getFieldValue("name"),useYn:r.getFieldValue("useYn")};console.log(e,":ㅇㄴㅇㄴㅇㄴ");try{await c.r.post("api/admin/rectag",{...e},{headers:{Authorization:d,"Content-Type":"application/json"}}),n({visible:!1,indexNum:0})}catch(e){S.ZP.error(e)}};return(0,l.tZ)(g.Z,{title:"상세정보",open:!0,closable:!1,maskClosable:!1,width:"80%",style:{top:25,bottom:25},onCancel:()=>{n({visible:!1,indexNum:0})},onOk:()=>b(),children:(0,l.BX)(p.Z,{form:r,layout:"vertical",labelAlign:"left",style:{textAlign:"left"},initialValues:a,children:[(0,l.BX)(f.Z,{children:[(0,l.tZ)(m.Z,{span:11,children:(0,l.tZ)(p.Z.Item,{label:"recTagId",required:!0,tooltip:"recTagId",name:["recTagId"],children:(0,l.tZ)(h.Z,{placeholder:"recTagId 입력해주세요",readOnly:!0})})}),(0,l.tZ)(m.Z,{span:11,offset:2,children:(0,l.tZ)(p.Z.Item,{label:"태그 이름",required:!0,tooltip:"태그 이름를 입력해주세요",name:["name"],children:(0,l.tZ)(h.Z,{placeholder:"태그이름을 입력해주세요"})})})]}),(0,l.tZ)(f.Z,{children:(0,l.tZ)(m.Z,{span:11,offset:0,children:(0,l.tZ)(p.Z.Item,{label:"태그 상태",required:!0,tooltip:"태그 상태 입니다",name:["useYn"],children:(0,l.BX)(s.Z,{children:[(0,l.tZ)(k,{value:!0,children:"활성화"}),(0,l.tZ)(k,{value:!1,children:"비 활성화"})]})})})})]})})}let B=(e,t)=>{let[n,r]=(0,u.useState)(e),l=e=>{let{target:{value:t}}=e;r(t)};return{value:n,onChange:l}};function O(){let e=(0,r.Z)(["\n  button {\n    cursor: pointer;\n    &:hover {\n      color: bule;\n    }\n  }\n"]);return O=function(){return e},e}function A(){let e=(0,r.Z)(["\n  input {\n    border: 1px solid #dcdcdc;\n    border-radius: 5px;\n    margin-left: 5px;\n  }\n  button {\n    border: 1px solid #dcdcdc;\n    padding: 0 2px;\n    border-radius: 5px;\n    width: auto;\n    height: auto;\n  }\n"]);return A=function(){return e},e}let{Column:_}=i.Z,j=()=>{let[e,t]=(0,u.useState)([]),[n,r]=(0,u.useState)([]),[a,s]=(0,u.useState)(!1),[Z,h]=(0,u.useState)({visible:!1,indexNum:0}),[p,g]=(0,u.useState)({visible:!1,data:{}}),[f,m]=(0,u.useState)([]),[b,x]=(0,u.useState)(!1);(0,u.useEffect)(()=>{w()},[p,Z,b]),console.log(e);let w=async()=>{try{let e=await c.r.get("api/admin/rectag");console.log(e,"성공"),s(!0),t(e.data.recTags),r(e.data.recTags)}catch(e){console.log(e,"옴?")}},y=async()=>{if(0===f.length)return alert("선택해주세요");console.log(f);for(let e=0;e<f.length;e++)await c.r.delete("/api/admin/rectag/".concat(f[e]));x(!b)},Y=B(""),S=n=>{console.log(Y.value);let r=e.filter(e=>e.name===Y.value);t(r)};return(0,u.useEffect)(()=>{},[Y]),(0,l.BX)(l.HY,{children:[Z.visible&&(0,l.tZ)(l.HY,{children:(0,l.tZ)(X,{modalData:Z,setModalData:h})}),p.visible&&(0,l.tZ)(l.HY,{children:(0,l.tZ)(I,{modalData:p,setModalData:g})}),!a&&(0,l.tZ)(d.Z,{}),a&&(0,l.BX)(l.HY,{children:[(0,l.BX)(H,{children:[(0,l.tZ)("button",{onClick:()=>h({visible:!0,indexNum:e.length++}),children:"생성"}),"\xa0/\xa0",(0,l.tZ)("button",{onClick:y,children:"삭제"})]}),(0,l.BX)(D,{children:[(0,l.tZ)("input",{type:"text",...Y}),(0,l.tZ)("button",{onClick:S,children:"검색"})," \xa0/\xa0",(0,l.tZ)("button",{onClick:()=>t(n),children:"리셋"})]}),(0,l.tZ)(i.Z,{style:{marginBottom:100},rowKey:e=>e.recTagId,dataSource:e,rowSelection:{onChange:e=>m(e)},pagination:{hideOnSinglePage:!0},children:(0,l.BX)(l.HY,{children:[(0,l.tZ)(_,{title:"생성일자",dataIndex:"createdAt",render:e=>(0,l.tZ)(l.HY,{children:v()(e).format("YYYY-MM-DD")})}),(0,l.tZ)(_,{title:"이름",dataIndex:"name"}),(0,l.tZ)(_,{title:"활성화",dataIndex:"useYn".toString(),render:e=>(0,l.tZ)(l.HY,{children:!0===e?"활성화":!1===e?"비활성화":"없음"})}),(0,l.tZ)(_,{title:()=>(0,l.tZ)(l.HY,{children:"상세"}),width:"7%",align:"center",render:(e,t)=>(0,l.tZ)(l.HY,{children:(0,l.tZ)(o.ZP,{size:"small",type:"ghost",onClick:()=>g({visible:!0,data:t}),children:"더보기"})})},"")]})})]})]})};var q=j;let H=a.Z.span(O()),D=a.Z.div(A())}},function(e){e.O(0,[885,324,343,790,774,888,179],function(){return e(e.s=1946)}),_N_E=e.O()}]);